<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit Lineup Linear Model — fit_lineup_lm • scoutR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit Lineup Linear Model — fit_lineup_lm"><meta name="description" content="Computes the lineup design matrix for a given dataframe `lineups`, and then
fits a linear model using the given `responses`."><meta property="og:description" content="Computes the lineup design matrix for a given dataframe `lineups`, and then
fits a linear model using the given `responses`."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scoutR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro.html">Intro to scoutR</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GKrotkov/tbaR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fit Lineup Linear Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/GKrotkov/tbaR/blob/master/R/scoutR.R" class="external-link"><code>R/scoutR.R</code></a></small>
      <div class="d-none name"><code>fit_lineup_lm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the lineup design matrix for a given dataframe `lineups`, and then
fits a linear model using the given `responses`.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fit_lineup_lm</span><span class="op">(</span><span class="va">lineups</span>, <span class="va">responses</span>, w <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-lineups">lineups<a class="anchor" aria-label="anchor" href="#arg-lineups"></a></dt>
<dd><p>A dataframe of lineups assumed to have the columns `blue1`,
`blue2`, `blue3`, `red1`, `red2`, and `red3`. This can be like a dataframe
of matches as output by `event_matches`.</p></dd>


<dt id="arg-responses">responses<a class="anchor" aria-label="anchor" href="#arg-responses"></a></dt>
<dd><p>A list of two vectors, `red` and `blue`. Each must be a
vector of the same length as the number of rows in `lineups`, representing
the response value to fit a linear model to.</p></dd>


<dt id="arg-w">w<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>Weights for WLS fit. Weights will be extended with `rep_len` to have
length corresponding to the rows of `lineups`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Key assumption - the order of `lineups` and the `responses` vector
must line up exactly. Otherwise, the fit will be meaningless. Fits a
regression through the origin - fixing the intercept coefficient to be 0.
Regression should always be through the origin both for model validity (we
want the matrix to have full rank) and because, unlike with basketball
(R)APM, there is no home team advantage to account for.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">gpr</span> <span class="op">&lt;-</span> <span class="fu"><a href="event_matches.html">event_matches</a></span><span class="op">(</span><span class="st">"2024paca"</span>, match_type <span class="op">=</span> <span class="st">"qual"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">opr</span> <span class="op">&lt;-</span> <span class="fu">fit_lineup_lm</span><span class="op">(</span><span class="va">gpr</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>red <span class="op">=</span> <span class="va">gpr</span><span class="op">$</span><span class="va">red_score</span>, blue <span class="op">=</span> <span class="va">gpr</span><span class="op">$</span><span class="va">blue_score</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gabriel Krotkov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

